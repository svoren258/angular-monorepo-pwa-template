<mat-accordion>
  <mat-expansion-panel
    (opened)="panelOpenState = true"
    (closed)="panelOpenState = false"
  >
    <mat-expansion-panel-header>
      <mat-panel-title>
        <input
          #checklistTitleInput
          type="text"
          class="checklist-title-input"
          matInput
          [formControl]="titleFormControl"
          (click)="stopEventPropagation($event)"
        >
        @if (inputIsFocused) {
          <button
            mat-icon-button
            color="secondary"
            (click)="onTitleChange($event)"
          >
            <mat-icon>check</mat-icon>
          </button>
        }
      </mat-panel-title>
    </mat-expansion-panel-header>
    <ng-content></ng-content>
  </mat-expansion-panel>
</mat-accordion>
